<div class="flex flex-col">

    <div class="flex flex-row justify-between items-center mt-2">
        <p *ngIf="oldDA === undefined" class="text-xl font-bold text-gray-900">Add New Duty Area</p>
        <p *ngIf="oldDA !== undefined && !isCopy" class="text-xl font-bold text-gray-900">Edit Duty Area</p>
        <p *ngIf="isCopy" class="text-xl font-bold text-gray-900">Copy Duty Area</p>
        <app-button (clicked)="closed.emit('fp-add-DA-closed')" ButtonType='icon' icon="close">
        </app-button>
    </div>

    <form class="flex flex-col" [formGroup]="dutyAreaForm">
        <div class="flex flex-row mt-3 justify-between">
            <div class="flex flex-col">
                <app-label [for]="'letter'" text="Tasks Symbol or Letter"></app-label>
                <app-textbox maxLength="1" formControlName="letter" (changed)="getDANumber()"></app-textbox>
                <app-input-error *ngIf="dutyAreaForm.get('letter')?.invalid" text="Letter Is Required">
                </app-input-error>
            </div>
            <div class="flex flex-col">
                <app-label [for]="'number'" text="Duty Area Number"></app-label>
                <app-textbox type="number" formControlName="number" (changed)="inputChange($event)"></app-textbox>
                <app-input-error *ngIf="dutyAreaForm.get('number')?.invalid" text="Number Is Required">
                </app-input-error>
            </div>
        </div>
        <div class="mt-3">
            <app-label [for]="'title'" text="Duty Area Title"></app-label>
            <app-textbox formControlName="title" placeholder="Title"></app-textbox>
            <app-input-error *ngIf="dutyAreaForm.get('title')?.invalid || dutyAreaForm.get('title')?.hasError('whitespaceOnly')" text="Title Is Required Or Contains WhiteSpaces">
            </app-input-error>
        </div>
        <div class="mt-3">
            <app-label [for]="'desc'" text="Duty Area Description"></app-label>
            <app-textarea formControlName="desc" [value]="dutyAreaForm.get('desc')?.value || ''"
                placeholder="Please enter description here">
            </app-textarea>
        </div>
        <div class="mt-3">
            <app-label [for]="'effectiveDate'" text="Effective Date"></app-label>
            <app-date  formControlName="effectiveDate"></app-date>
           <!--  <app-input-error text="Enter Valid Effective Date Greater then or equal to current date" *ngIf="dateError">
            </app-input-error> -->
        </div>
        <div class="mt-3">
            <app-label [for]="'reason'" text="Reason for Revision " class="label required"></app-label>
            <app-textarea formControlName="reason" [value]="dutyAreaForm.get('reason')?.value || ''"
                placeholder="Please enter Reasons for Revision here">
            </app-textarea>
            <app-input-error *ngIf="dutyAreaForm.get('reason')?.invalid || dutyAreaForm.get('reason')?.hasError('whitespaceOnly')" text="Reasons for Revision is Required Or Contains WhiteSpaces">
            </app-input-error>
        </div>
        <div class="flex flex-row flex-grow justify-between pt-12">
            <mat-checkbox formControlName="AddAnother"  *ngIf="oldDA === undefined">Add another Duty area</mat-checkbox>
            <!-- <app-button [disabled]="dutyAreaForm.invalid || dateError" (clicked)="saveDutyArea()" text="Save" size="sm">
            </app-button> -->

            <app-button [spinner]="showSpinner" *ngIf="oldDA === undefined" [disabled]="dutyAreaForm.invalid || showSpinner"
            (clicked)="saveDutyArea()" text="Save" size="sm">
            </app-button>
        </div>

            <div class="flex flex-row-reverse">
                <app-button [spinner]="showSpinner" *ngIf="oldDA !== undefined && !isCopy"
                    [disabled]="dutyAreaForm.invalid  || showSpinner" (clicked)="editDutyArea()" text="Update"
                    size="sm">
                </app-button>
                <app-button [spinner]="showSpinner" *ngIf="isCopy" [disabled]="dutyAreaForm.invalid || showSpinner"
                    (clicked)="copyDutyArea()" text="Copy" size="sm">
                </app-button>
            </div>

    </form>
</div>

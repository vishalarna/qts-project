<div *ngIf="isLoading">
    <app-data-loader></app-data-loader>
  </div>
  <div *ngIf="!isLoading" class="ml-4 mr-4">
      <div class="flex flex-row flex-wrap mt-3 justify-between">
        <div class="flex flex-col">
          <p class="font-bold text-lg">{{title}}</p>
        </div>

        <div class="flex flex-row  items-center text-gray-four btn-group">
            <div class="cursor-pointer bg-gray-200 p-2 rounded">
              <label mat-button [matMenuTriggerFor]="menu" class="mb-0">
                <span *ngIf="isActive" class="font-bold">
                  <span style="color:green" class="mr-1">●</span>
                  Active
                </span>
                <span *ngIf="!isActive" class="font-bold">
                  <span style="color:red" class="mr-1">●</span>
                  Inactive
                </span>
      
              </label>
              <app-icon icon="expand_more" [matMenuTriggerFor]="menu"></app-icon>
              <mat-menu #menu="matMenu">
                <label mat-menu-item *ngIf="!isActive" (click)="changeStatus(statusModal,true)">
                  <span style="color:green" class="mr-1">●</span>Make
                  Active</label>
      
                <label mat-menu-item *ngIf="isActive" [disabled]="disableEmployeeCertificationCheck" (click)="changeStatus(statusModal,false)">
                  <span style="color:red" class="mr-1">●</span> Make
                  Inactive</label>
              </mat-menu>
            </div>
     
            <div class="ml-2 cursor-pointer ">
              <app-icon icon="more_horiz" [matMenuTriggerFor]="options"></app-icon>
              <mat-menu #options="matMenu">
                <label [disabled]="!isActive" (click)="openFlyPanel(addNewIA,'Edit')" mat-menu-item> Edit</label>
                <label [disabled]="!isActive" (click)="openFlyPanel(addNewIA,'Copy')" mat-menu-item> Copy</label>
                <label (click)="deleteProcedure(unlinkModal)" [disabled]="certificationCheck || !isActive" mat-menu-item> Delete</label>
              </mat-menu>
            </div>
      
          </div>

        </div>
        <div class="flex flex-col">
            <hr class="ml-2 mt-2">
            <p class="ml-2 mt-3">
    
                   {{description}}
               </p>
               <p class="ml-2 mt-2">Issuing Authority Link :
                <app-link class="text-qtd" [text]="website">
                </app-link>
              </p>
        </div>

        <ng-template #addNewIA>
            <app-fly-panel-add-issuingauthority (refresh)="refresh()" [mode]= "modalType" [isCopy]="isCopy" [oldIssuingAuthority]="certifyingbody" (closed)="flyPanelService.close();populateData()" (refresh)="populateData()"></app-fly-panel-add-issuingauthority>
            
          </ng-template>
          
          <ng-template #unlinkModal>
            <app-qtd-dialogue header="Delete Issuing Authority" [description]="deleteDescription" cancelText="No"
              confirmText="Yes" [showEffectiveDateAndReason]="true" (canceled)="dialog.closeAll()" (confirmed)="Delete($event)">
            </app-qtd-dialogue>
          </ng-template>
        
          <ng-template #statusModal>
            <app-qtd-dialogue [header]="modalHeader" [description]="modalDescription" cancelText="No" confirmText="Yes"
                [showEffectiveDateAndReason]="true" (canceled)="dialog.closeAll()" (confirmed)="MakeActive($event,!isActive)">
            </app-qtd-dialogue>
        </ng-template>
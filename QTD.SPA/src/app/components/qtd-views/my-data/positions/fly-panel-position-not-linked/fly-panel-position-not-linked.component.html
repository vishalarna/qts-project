<ng-container *ngIf="activeInactiveCheck === false">
    <div class="flex flex-row justify-between items-center px-12 mt-5">
      <p class="text-xl font-bold text-gray-900" *ngIf="NotLinkedToName !== 'SQ'">{{("Position" | labelReplacement)| async}}s not linked to {{NotLinkedToName| dynamicLabelReplacement | async | titlecase}}s
      </p>
      <p class="text-xl font-bold text-gray-900" *ngIf="NotLinkedToName === 'SQ'">{{("Position" | labelReplacement)| async}}s not linked to {{NotLinkedToName | dynamicLabelReplacement | async}}s
      </p>
      <app-button (click)="closeFlyPanel()" ButtonType='icon' icon="close"></app-button>
    </div>

<div class="flex flex-row items-center border-b py-4 px-4 ml-8 mr-8">
      <app-icon icon="search" class="text-gray-400"></app-icon>
      <input type="text" id="name" placeholder="Search" value="" (ngModelChange)="filterRecord($event)"
        class="w-full transition duration-200 focus:shadow-xs focus:outline-none ring-offset-2 ml-2 text-sm font-normal" [ngModel]="clearSearch">

        <app-icon icon="close" class="cursor-pointer" (click)="clearFilter()"></app-icon>

    </div>

         <div class="flex flex-row px-12 mt-4 text-xs text-gray-500">

        <span> Showing: Active {{("Position" | labelReplacement)| async}}s</span>
        <!--  <label mat-button [matMenuTriggerFor]="menu" class="mb-0">
            Position
          </label>
          <app-icon icon="expand_more" [matMenuTriggerFor]="menu"></app-icon>
        </span>

        <mat-menu #menu="matMenu">
          <label mat-menu-item *ngIf="!showActive" (click)="showActive=true;generateTree(position)">
            Active</label>

          <label mat-menu-item *ngIf="showActive" (click)="showActive=false;generateTree(position)">
            Inactive</label>
        </mat-menu>
      </div> -->

    </div>

    <app-data-loader *ngIf="isLoading"></app-data-loader>
    <ng-container *ngIf="treedataSource.data.length > 0">
      <div class="flex flex-col px-12 mt-2">

        <mat-tree [dataSource]="treedataSource" [treeControl]="treeControl" class="qtd-tree">
          <!-- This is the tree node template for leaf nodes -->
          <!-- There is inline padding applied to this node using styles.
                    This padding value depends on the mat-icon-button width. -->
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding class="text-gray-four">
            <span class="text-gray-three"><app-icon [icon]="'link'" class="mr-2"></app-icon>{{node.description}}</span>
          </mat-tree-node>
          <!-- This is the tree node template for expandable nodes -->
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasTaskChild">
            <div class="mat-tree-node">
              <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.description">
                <app-icon [icon]="treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'">
                </app-icon>
              </button>

              {{node.description}}
            </div>
            <!-- There is inline padding applied to this div using styles.
                          This padding value depends on the mat-icon-button width.  -->
            <div [class.qtd-tree-invisible]="!treeControl.isExpanded(node)" role="group">
              <ng-container matTreeNodeOutlet></ng-container>
            </div>
          </mat-nested-tree-node>
        </mat-tree>
      </div>
    </ng-container>



  </ng-container>


  <ng-container *ngIf="activeInactiveCheck === true">
    <div class="flex flex-row justify-between items-center px-12 mt-5">
      <p class="text-xl font-bold text-gray-900" >{{moduleName}}
      </p>
      <app-button (click)="closeFlyPanel()" ButtonType='icon' icon="close"></app-button>
    </div>

    <app-data-loader *ngIf="isLoading"></app-data-loader>
    <ng-container *ngIf="tableDataSource.data.length > 0">
      <div class="flex flex-col px-12 mt-2">

        <!-- <mat-tree [dataSource]="treedataSource" [treeControl]="treeControl" class="qtd-tree">
          This is the tree node template for leaf nodes -->
          <!-- There is inline padding applied to this node using styles.
                    This padding value depends on the mat-icon-button width.
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding class="text-gray-four">
            <span>{{node.positionNumber}} - {{node.positionAbbreviation}} - {{node.positionTitle}}</span>
          </mat-tree-node>

        </mat-tree> -->
        <table mat-table matSort [dataSource]="tableDataSource">
          <ng-container matColumnDef="positionNumber">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{("Position" | labelReplacement)| async}} No.
            </th>
            <td mat-cell *matCellDef="let row">
                {{row.positionNumber}} </td>
          </ng-container>
          <ng-container matColumnDef="positionAbbreviation">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{("Position" | labelReplacement)| async}} Abbreviation
            </th>
            <td mat-cell *matCellDef="let row">
                {{row.positionAbbreviation}} </td>
          </ng-container>
          <ng-container matColumnDef="positionTitle">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{("Position" | labelReplacement)| async}} Title
            </th>
            <td mat-cell *matCellDef="let row">
                {{row.positionTitle}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>

          <!-- Row shown when there is no matching data.-->
          <tr class="mat-row flex text-center " *matNoDataRow>
              <td class="mat-cell w-full m-2">No data to display</td>
          </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[20, 40, 60]" showFirstLastButtons>
        </mat-paginator>
      </div>
    </ng-container>
  </ng-container>

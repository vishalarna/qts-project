<!--Heading starts-->
<ng-container *ngIf="activeInactiveCheck === false">
    <div class="flex flex-col px-12 py-12">

        <div class="flex flex-row justify-between">
            <h2>{{("Enabling Objective" | labelReplacement)| async}} not linked to {{NotLinkedToName | dynamicLabelReplacement| async}}</h2>
            <app-button ButtonType="icon" icon="close" (clicked)="closed.emit('fp-notlinked-task-closed')"></app-button>

        </div>
        <div class="flex flex-row items-center border-b-0.8 border-gray-one">
            <div class="flex flex-grow">
                <app-icon icon="search"></app-icon>
                <input class="text-sm flex-grow focus:outline-none" placeholder="Search" type="text"
                    (input)="filterDataNew(this.showActive)" [(ngModel)]="filterEOString">
                    <app-icon icon="close" class="cursor-pointer" (click)="clearFilter()"></app-icon>

            </div>

        </div>

        <!--Heading ends-->

        <div class="flex flex-row mt-3 items-center text-gray-four justify-between text-xs btn-group">

            <div class="cursor-pointer">
                <span> Showing:
                    <label mat-button  class="mb-0">
                        <p *ngIf="showActive" class="font-bold">
                            Active
                        </p>
                       <!--  <p *ngIf="!showActive" class="font-bold">
                            Inactive
                        </p> -->

                    </label>
                 <!--    <app-icon icon="expand_more" [matMenuTriggerFor]="menu"></app-icon> -->
                </span>

               <!--  <mat-menu #menu="matMenu">
                    <label mat-menu-item *ngIf="!showActive" (click)="filterData(true)">
                        Active</label>

                    <label mat-menu-item *ngIf="showActive" (click)="filterData(false)">
                        Inactive</label>
                </mat-menu> -->
            </div>

        </div>
        <!-- *ngIf="active_tasks" -->

        <app-spinner *ngIf="spinner"></app-spinner>

        <ng-container *ngIf="dataSource.data.length > 0">
            <div class="flex flex-col ">
                <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="qtd-tree">
                    <!-- This is the tree node template for leaf nodes -->
                    <!-- There is inline padding applied to this node using styles.
                        This padding value depends on the mat-icon-button width. -->

                    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
                        <ng-container>
                            <app-icon *ngIf="node.IsEO" icon="link_off"></app-icon> {{node.description}}<span
                            class="ml-1 qtd-meta-box p-1 font-bold" *ngIf="node.IsEO">{{'EO'|uppercase}}</span>
                        </ng-container>
                    </mat-tree-node>

                    <!-- This is the tree node template for expandable nodes -->
                    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                        <div class="mat-tree-node">
                            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.description">
                                <app-icon [icon]="treeControl.isExpanded(node) ? 'expand_more' : 'expand_less'">
                                </app-icon>
                            </button>
                            <ng-container> {{node.description}} </ng-container>
                        </div>

                        <div *ngIf="treeControl.isExpanded(node)" role="group">
                            <ng-container matTreeNodeOutlet></ng-container>
                        </div>
                    </mat-nested-tree-node>
                </mat-tree>

            </div>
        </ng-container>


      </div>
</ng-container>

<ng-container *ngIf="activeInactiveCheck === true">
    <div class="flex flex-row justify-between items-center px-12 mt-5">
        <p class="text-xl font-bold text-gray-900">{{name}}
        </p>
        <app-button (click)="flyin.close()" ButtonType='icon' icon="close"></app-button>
    </div>

    <app-spinner *ngIf="spinner"></app-spinner>
    <ng-container *ngIf="tableDataSource.data != undefined && !spinner">
        <!-- <div class="flex flex-col px-12">

            <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="qtd-tree">

                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
                    &nbsp;&nbsp;

                    <span>{{node.number}} - {{node.description}}</span>

                </mat-tree-node>
            </mat-tree>
        </div> -->

        <table mat-table matSort [dataSource]="tableDataSource">
          <ng-container matColumnDef="number">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> EO Number
            </th>
            <td mat-cell *matCellDef="let row">
                {{row.number}} </td>
          </ng-container>
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> EO Description
            </th>
            <td mat-cell *matCellDef="let row">
                {{row.description}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>

          <!-- Row shown when there is no matching data.-->
          <tr class="mat-row flex text-center " *matNoDataRow>
              <td class="mat-cell w-full m-2">No data to display</td>
          </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[20, 40, 60]" showFirstLastButtons>
        </mat-paginator>
    </ng-container>
</ng-container>


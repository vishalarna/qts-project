<div [ngClass]="{'px-12 py-12':hasSpace}" class="flex flex-col">

  <div class="flex flex-row justify-between items-center mt-2">
    <p *ngIf="!category" class="text-xl font-bold text-gray-900">Add New Category</p>
    <p *ngIf="category" class="text-xl font-bold text-gray-900">Edit Category</p>
    <app-button (clicked)="closed.emit('fp-add-cat-closed')" ButtonType='icon' icon="close">
    </app-button>
  </div>

  <form class="flex flex-col" [formGroup]="categoryForm">
    <div class="mt-3">
      <app-label [for]="'number'" text="Category Number " class="label required"></app-label>
      <app-textbox [type]="'number'" formControlName="number"></app-textbox>
      <app-input-error *ngIf="categoryForm.get('number')?.invalid" text="Number Is Required">
      </app-input-error>
    </div>
    <div class="mt-3">
      <app-label [for]="'title'" text="Category Title " class="label required"></app-label>
      <app-textbox formControlName="title" placeholder="Title"></app-textbox>
      <app-input-error *ngIf="categoryForm.get('title')?.invalid || categoryForm.get('title')?.hasError('whitespaceOnly')" text="Title is Required Or Contains WhiteSpaces">
      </app-input-error>
    </div>
    <div class="mt-3">
      <app-label [for]="'desc'" text="Category Description "></app-label>
      <app-textarea  [value]="categoryForm.get('desc')?.value ?? '' " formControlName="desc" type="text" placeholder="Please enter description here">
      </app-textarea>
      <!--  <app-textarea formControlName="desc" placeholder="Please enter description here">
            </app-textarea> -->
      <app-input-error *ngIf="categoryForm.get('desc')?.invalid" text="Description is Required">
      </app-input-error>
    </div>
    <div class="mt-3">
      <app-label [for]="'effectiveDate'" text="Effective Date"></app-label>
      <app-date  formControlName="effectiveDate"></app-date>
    </div>
    <div class="mt-3">
      <app-label [for]="'reason'" text="Note" class="label required"></app-label>
      <app-textarea [value]="categoryForm.get('reason')?.value ?? '' " formControlName="reason" placeholder="Please enter Reasons for Revision here">
      </app-textarea>
      <app-input-error *ngIf="categoryForm.get('reason')?.invalid || categoryForm.get('reason')?.hasError('whitespaceOnly')" text="Note is Required Or Contains WhiteSpaces">
      </app-input-error>
      <!-- <app-textarea formControlName="reason" placeholder="Please enter Reasons for Revision here">
            </app-textarea> -->
    </div>
    <div class="flex flex-row flex-grow justify-between pt-12">
      <div  *ngIf="!category" class="flex flex-row">
        <mat-checkbox formControlName="AddAnother" name="AddAnother"></mat-checkbox>
        <span class="ml-1">Add another Category</span>
      </div>

      <div>
        <app-button [spinner]="showSpinner" *ngIf="!category" [disabled]="categoryForm.invalid || showSpinner"
          (clicked)="saveCategory()" text="Save" size="sm"></app-button>
      </div>
    </div>

    <div class="flex flex-row-reverse">
      <app-button [spinner]="showSpinner" *ngIf="category" [disabled]="categoryForm.invalid || showSpinner"
      (clicked)="updateCategory()" text="Update" size="sm"></app-button>
    </div>
  </form>
</div>

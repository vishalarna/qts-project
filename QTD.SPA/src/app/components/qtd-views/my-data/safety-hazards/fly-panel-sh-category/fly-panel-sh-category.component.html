<div class="flex flex-col px-12 py-12">

  <div class="flex flex-row justify-between items-center mt-2">
    <p *ngIf="oldSHCat === undefined" class="text-xl font-bold text-gray-900">Add New Category</p>
    <p *ngIf="oldSHCat !== undefined && !isCopy" class="text-xl font-bold text-gray-900">Edit Category</p>
    <p *ngIf="isCopy" class="text-xl font-bold text-gray-900">Copy Category</p>
    <app-button (clicked)="closed.emit('fp-add-cat-closed')" ButtonType='icon' icon="close">
    </app-button>
  </div>

  <form class="flex flex-col" [formGroup]="categoryForm">
    <div class="mt-3">
      <app-label [for]="'number'" text="Category Number"></app-label>
      <app-textbox formControlName="number" [disabled]="true" [(ngModel)]="CatNumber"></app-textbox>
      <app-input-error *ngIf="categoryForm.get('number')?.invalid || categoryForm.get('number')?.hasError('whitespaceOnly')" text="Number is Required Or Contains White Spaces">
      </app-input-error>
    </div>
    <div class="mt-3">
      <app-label [for]="'title'" text="Category Title"></app-label>
      <app-textbox formControlName="title" placeholder="Title"></app-textbox>
      <app-input-error *ngIf="categoryForm.get('title')?.invalid  || categoryForm.get('title')?.hasError('whitespaceOnly')" text="Title is Required Or Contains White Spaces">
      </app-input-error>
    </div>
    <div class="mt-3">
      <app-label [for]="'desc'" text="Category Description"></app-label>
      <app-textarea [value]="categoryForm.get('desc')?.value || ''" formControlName="desc" placeholder="Please enter description here">
      </app-textarea>
      <app-input-error *ngIf="categoryForm.get('desc')?.invalid" text="Description is required"></app-input-error>
    </div>
    <div class="mt-3">
      <app-label [for]="'effectiveDate'" text="Effective Date"></app-label>
      <app-date   formControlName="effectiveDate"></app-date>
     <!--  <app-input-error *ngIf="dateError"
        text="Please Enter Valid Effective Date that is greater then or equal to current date"></app-input-error> -->
    </div>
    <div class="mt-3">
      <app-label [for]="'reason'" text="Note " class="label required"></app-label>
      <app-textarea [value]="categoryForm.get('reason')?.value || ''" formControlName="reason" placeholder="Please enter Reasons for Revision here">
      </app-textarea>
      <app-input-error *ngIf="categoryForm.get('reason')?.invalid  || categoryForm.get('reason')?.hasError('whitespaceOnly')" text="Reason for Revision is required Or Contains White Spaces"></app-input-error>
    </div>
    <div class="flex flex-row flex-grow justify-between pt-12">
      <mat-checkbox *ngIf="oldSHCat === undefined" formControlName="AddAnother">Add another Category</mat-checkbox>
      <app-button [spinner]="showSpinner" *ngIf="oldSHCat === undefined" [disabled]="categoryForm.invalid || showSpinner" (clicked)="createNewSHCategory()" text="Save" size="sm">
      </app-button>

    </div>

    <div class="flex flex-row-reverse">
      <app-button [spinner]="showSpinner" *ngIf="isCopy" [disabled]="categoryForm.invalid || showSpinner" (clicked)="createNewSHCategory()" text="Copy" size="sm">
      </app-button>
      <app-button [spinner]="showSpinner" *ngIf="oldSHCat !== undefined && !isCopy" [disabled]="categoryForm.invalid || showSpinner" (clicked)="editSHCategory()" text="Update" size="sm">
      </app-button>
    </div>
  </form>
</div>

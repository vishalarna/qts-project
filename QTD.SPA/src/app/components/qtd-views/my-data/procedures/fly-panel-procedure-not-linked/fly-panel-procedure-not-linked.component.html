<ng-container *ngIf="activeInactiveCheck === false">
  <div class="flex flex-row justify-between items-center px-12 mt-5">
    <p class="text-xl font-bold text-gray-900">{{("Procedure" | labelReplacement)| async}}s {{"Not Linked to " + NotLinkedToName | dynamicLabelReplacement| async }}
    </p>
    <app-button (click)="closeFlyPanel()" ButtonType='icon' icon="close"></app-button>
  </div>

  <div class="flex flex-row items-center border-b py-4 px-4 ml-8 mr-8">
    <app-icon icon="search" class="text-gray-400"></app-icon>
    <input type="text" id="name" placeholder="Search" (input)="filterRecord($event)" [(ngModel)]="clearSearch"
      class="w-full transition duration-200 focus:shadow-xs focus:outline-none ring-offset-2 ml-2 text-sm font-normal">
      <app-icon icon="close" class="cursor-pointer" (click)="clearFilter()"></app-icon>

  </div>

  <div class="flex flex-row px-12 mt-4 text-xs text-gray-500">
    <div class="cursor-pointer">
      <span> Showing: Active
        <label mat-button class="mb-0">
          {{("Procedure" | labelReplacement)| async}}s
        </label>
    <!--     <app-icon icon="expand_more" [matMenuTriggerFor]="menu"></app-icon> -->
      </span>

    <!--   <mat-menu #menu="matMenu">
        <label mat-menu-item *ngIf="!showActive" (click)="showActive=true;generateTree(procedures)">
          Active</label>

        <label mat-menu-item *ngIf="showActive" (click)="showActive=false;generateTree(procedures)">
          Inactive</label>
      </mat-menu> -->
    </div>

  </div>

  <app-data-loader *ngIf="spinner"></app-data-loader>
  <ng-container *ngIf="treedataSource.data.length > 0">
    <div class="flex flex-col px-12">

      <mat-tree [dataSource]="treedataSource" [treeControl]="treeControl" class="qtd-tree">
        <!-- This is the tree node template for leaf nodes -->
        <!-- There is inline padding applied to this node using styles.
                  This padding value depends on the mat-icon-button width. -->
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
          {{node.description}}
        </mat-tree-node>
        <!-- This is the tree node template for expandable nodes -->
        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasTaskChild">
          <div class="mat-tree-node">
            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.description">
              <app-icon [icon]="treeControl.isExpanded(node) ? 'expand_more' : 'expand_less'">
              </app-icon>
            </button>

            {{node.description}}
          </div>
          <!-- There is inline padding applied to this div using styles.
                        This padding value depends on the mat-icon-button width.  -->
          <div [class.qtd-tree-invisible]="!treeControl.isExpanded(node)" role="group">
            <ng-container matTreeNodeOutlet></ng-container>
          </div>
        </mat-nested-tree-node>
      </mat-tree>
    </div>

  </ng-container>

</ng-container>

<!--active inactive list-->
<ng-container *ngIf=" activeInactiveCheck === true">
  <div class="flex flex-row justify-between items-center px-12 mt-5">
    <p class="text-xl font-bold text-gray-900">{{nameOfModule}}
    </p>
    <app-button (click)="closeFlyPanel()" ButtonType='icon' icon="close"></app-button>
  </div>

  <app-data-loader *ngIf="spinner"></app-data-loader>
  <ng-container *ngIf="tableDataSource.data != undefined && tableDataSource.data.length > 0">
    <div class="flex flex-col px-12">

      <!-- <mat-tree [dataSource]="treedataSource" [treeControl]="treeControl" class="qtd-tree">

        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
          <span *ngIf="NotLinkedToName == 'Activeproc' || NotLinkedToName == 'Inactiveproc'" >{{node.number}} - {{node.title}}</span>
          <span *ngIf="NotLinkedToName == 'Activeia' || NotLinkedToName == 'Inactiveia'" > {{node.title}}</span>

        </mat-tree-node>
      </mat-tree> -->

      <table matSort mat-table matSort [dataSource]="tableDataSource">
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Index
          </th>
          <td mat-cell *matCellDef="let row">
              {{row.id}} </td>
        </ng-container>
        <ng-container *ngIf="NotLinkedToName === 'Activeproc' || NotLinkedToName === 'Inactiveproc'" matColumnDef="number">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> {{("Certification" | labelReplacement)| async}} Number
          </th>
          <td mat-cell *matCellDef="let row">
              {{row.number}} </td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> {{("Certification" | labelReplacement)| async}} Name
          </th>
          <td mat-cell *matCellDef="let row">
              {{row.name}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="NotLinkedToName === 'Activeproc' || NotLinkedToName === 'Inactiveproc' ? displayColumns:IADisplayedCols;"></tr>
        <tr  mat-row *matRowDef="let row; columns: NotLinkedToName === 'Activeproc' || NotLinkedToName === 'Inactiveproc' ? displayColumns:IADisplayedCols;"></tr>

        <!-- Row shown when there is no matching data.-->
        <tr class="mat-row flex text-center " *matNoDataRow>
            <td class="mat-cell w-full m-2">No data to display</td>
        </tr>
      </table>
      <mat-paginator [pageSizeOptions]="[20, 40, 60]" showFirstLastButtons>
      </mat-paginator>
    </div>
  </ng-container>
</ng-container>

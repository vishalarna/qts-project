<div class="flex flex-col px-12 py-12">

    <div class="flex flex-row justify-between items-center mt-2">
        <p class="text-xl font-bold text-gray-900" *ngIf="oldToolCat === undefined">Add New Category</p>
        <p class="text-xl font-bold text-gray-900" *ngIf="oldToolCat && isCopy === false">Edit Category</p>
        <p class="text-xl font-bold text-gray-900" *ngIf="oldToolCat && isCopy === true">Copy Category</p>

        <app-button (clicked)="closed.emit('fp-add-cat-closed')" ButtonType='icon' icon="close">
        </app-button>
    </div>

    <form class="flex flex-col" [formGroup]="categoryForm">
        <div class="mt-3">
            <app-label [for]="'title'" text="Category Title *"></app-label>
            <app-textbox formControlName="title" placeholder="Title"></app-textbox>
            <app-input-error *ngIf="categoryForm.get('title')?.invalid" text="Title Is Required">
            </app-input-error>
        </div>
        <div class="mt-3">
            <app-label [for]="'desc'" text="Category Description"></app-label>
            <app-textarea [value]="categoryForm.get('desc')?.value || ''" formControlName="desc" placeholder="">
            </app-textarea>
        </div>
        <div class="mt-3">
            <app-label [for]="'website'" text="Website"></app-label>
            <app-textbox formControlName="website" placeholder=""></app-textbox>
        </div>
        <div class="mt-3">
            <app-label [for]="'effectiveDate'" text="Effective Date"></app-label>
            <app-date   formControlName="effectiveDate"></app-date>
        </div>
        <div class="mt-3">
            <app-label [for]="'reason'" text="Note"></app-label>
            <app-textarea [value]="categoryForm.get('notes')?.value || ''" formControlName="notes" placeholder="">
            </app-textarea>
            <app-input-error *ngIf="categoryForm.get('notes')?.invalid" text="Notes Is Required">
            </app-input-error>
        </div>
        <div *ngIf="oldToolCat === undefined" class="flex flex-row flex-grow justify-between pt-12">
            <mat-checkbox  [(ngModel)]="addAnother" [ngModelOptions]="{standalone: true}">Add another Category
            </mat-checkbox>
            <app-button [disabled]="categoryForm.invalid || dateError" (clicked)="SaveNewCategory()" text="Save"
                size="sm">
            </app-button>
        </div>

        <div *ngIf="oldToolCat" class="flex flex-row-reverse pt-12">
            <app-button *ngIf="isCopy===false" [disabled]="categoryForm.invalid || dateError" (clicked)="EditCategory()" text="Save" size="sm">
            </app-button>

            <app-button *ngIf="isCopy===true" [disabled]="categoryForm.invalid || dateError" (clicked)="SaveNewCategory()" text="Copy" size="sm">
        </app-button>
        </div>
    </form>
</div>

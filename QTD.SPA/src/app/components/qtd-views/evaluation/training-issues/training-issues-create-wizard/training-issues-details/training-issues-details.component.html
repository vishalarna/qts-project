<app-data-loader *ngIf="loader"></app-data-loader>
<form *ngIf="!loader" class="step-container" [formGroup]="issuesDetailsForm">
    <div class="mat-step-section">
        <div class="step-header-section">
            <h2 class="step-main-header mb-0">Issue Details</h2>
            <p class="step-header-caption">Setup new training issue</p>
        </div>
        <div class="step-controls-section">
            <div class="step-control-container">
                <app-label class="step-control-label label required" customClasses="mb-0" [for]="'id'"
                    [text]="'Issue ID'"></app-label>
                <div class="step-control w-40">
                    <app-textbox (input)="onIssueIdInput()" type="text" formControlName="issueId"
                        [placeholder]="'Enter Issue ID'"></app-textbox>
                </div>
            </div>
            <div class="step-control-container">
                <app-label class="step-control-label label required" customClasses="mb-0" [for]="'title'"
                    [text]="'Issue Title'">
                </app-label>
                <div class="step-control">
                    <app-textbox (input)="onTitleInput()" type="text" formControlName="title"
                        [placeholder]="'Enter Issue Title'"></app-textbox>
                </div>
            </div>
            <div class="step-control-container">
                <div class="step-control-label mb-0">Description <span class="optional-text">(Optional)</span></div>
                <div class="step-control">
                    <app-textarea (input)="onDescriptionInput()" type="text" formControlName="description"
                        [value]="issuesDetailsForm.get('description')?.value"
                        placeholder="Enter Description"></app-textarea>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <div class="step-control-container d-inline-block w-full">
                    <app-label class="step-control-label label required" customClasses="mb-0" [for]="'createdDate'"
                        [text]="'Created Date'"></app-label>
                    <div class="step-control">
                        <app-date matInput (change)="onCreatedDateSelect()" formControlName="createdDate"
                            class="form_field text-xs"></app-date>
                    </div>
                </div>
                <div class="step-control-container d-inline-block ml-4 w-full">
                    <app-label class="step-control-label label required" customClasses="mb-0" [for]="'dueDate'"
                        [text]="'Due Date'"></app-label>
                    <div class="step-control">
                        <app-date matInput (change)="onDueDateSelect()" formControlName="dueDate"
                            class="form_field text-xs"></app-date>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <div class="step-control-container d-inline-block w-full">
                    <app-label class="step-control-label label required" customClasses="mb-0" [for]="'status'"
                        [text]="'Status'"></app-label>
                    <div class="step-control">
                        <mat-select (selectionChange)="onStatusSelect()" formControlName="status"
                            placeholder="Select Status" class="appearance-none rounded border w-full px-4 py-2.5 mt-2">
                            <mat-option *ngFor="let status of trainingIssueStatusList" [value]="status.id">
                                {{status.status}}
                            </mat-option>
                        </mat-select>
                    </div>
                </div>
                <div class="step-control-container d-inline-block ml-4 w-full">
                    <app-label class="step-control-label label required" customClasses="mb-0" [for]="'severity'"
                        [text]="'Severity'"></app-label>
                    <div class="step-control">
                        <mat-select (selectionChange)="onSeveritySelect()" formControlName="severity"
                            placeholder="Select Severity"
                            class="appearance-none rounded border w-full px-4 py-2.5 mt-2">
                            <mat-option *ngFor="let severity of trainingIssueSeverityList" [value]="severity.id">
                                {{severity.severity}}
                            </mat-option>
                        </mat-select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<ng-container>
    <div class="flex flex-row justify-between items-center px-12 mt-5">
        <p class="text-xl font-bold text-gray-900">{{name}}
        </p>
        <app-button (click)="flyInClose.close()" ButtonType='icon' icon="close"></app-button>
    </div>

  <!-- <app-spinner *ngIf="!treedataSource"></app-spinner>
    <ng-container *ngIf="treedataSource.data.length > 0">
        <div class="flex flex-col px-12">

            <mat-tree [dataSource]="treedataSource" [treeControl]="tasktreeControl" class="qtd-tree">

                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
                    &nbsp;&nbsp;

                        <span>{{node.number}} - {{node.description}}</span>
                        <div class=" flex flex-row justify-between ml-12">
                            <app-button size="sm" variant="text" [icon]="'edit_document'" iconPosition="left" text="Edit"></app-button>
                            <app-button size="sm" variant="text" [icon]="'preview'" iconPosition="left" text="Preview"></app-button>
                        </div>



                </mat-tree-node>
            </mat-tree>
        </div>
    </ng-container> -->

    <app-data-loader *ngIf="spinner"></app-data-loader>

    <div class="table-container px-12">
        <mat-table matSort matSortActive="number" matSortDirection="asc" [dataSource]="treedataSource" matSort #procSort="matSort">
            <ng-container matColumnDef="number">
                <mat-header-cell mat-sort-header *matHeaderCellDef style="max-width: 100px;"> #
                </mat-header-cell>
                <mat-cell *matCellDef="let row" style="max-width: 100px;"> {{row.number}}
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="question">
                <mat-header-cell mat-sort-header *matHeaderCellDef mat-sort-header> Question Stem
                </mat-header-cell>
                <mat-cell *matCellDef="let row">
                    <div [ngClass]="row.question.trim().toLowerCase().includes('<p>') ? '':'mb-3'" class="flex flex-row"
                    [innerHTML]="row.question"></div>
                </mat-cell>
            </ng-container>
          <!--   <ng-container matColumnDef="type">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Type
                </mat-header-cell>
                <mat-cell *matCellDef="let row"> {{row.type}} </mat-cell>
            </ng-container> -->
         <!--    <ng-container matColumnDef="taxonomy">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Taxonomy
                </mat-header-cell>
                <mat-cell *matCellDef="let row"> {{row.taxonomy}} </mat-cell>
            </ng-container> -->
            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef> Action
                </mat-header-cell>
                <mat-cell *matCellDef="let row">
                    <app-button (clicked)="selectedRow = row;questionMode='edit';openFlyPanel(addQuestion)" size="sm" variant="text" [icon]="'edit_document'" iconPosition="left" text="Edit"></app-button>
                 <!--    <app-icon class="cursor-pointer" style="color:gray;" [matMenuTriggerFor]="viewBy"
                    icon="more_horiz"></app-icon>
                    <mat-menu #viewBy="matMenu">
                        <label (click)="selectedRow = row;questionMode='edit';openFlyPanel(addQuestion)" class="label_style"  mat-menu-item>
                          Edit
                        </label>
                        <label (click)="selectedRow = row;questionMode='preview';openFlyPanel(addQuestion)" class="label_style" mat-menu-item>
                          Preview
                        </label>
                      </mat-menu> -->

                </mat-cell>
            </ng-container>


            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

            <!-- Row shown when there is no matching data.-->
            <tr class="mat-row flex text-center " *matNoDataRow>
                <td class="mat-cell w-full m-2">No data to display</td>
            </tr>

        </mat-table>
        <mat-paginator [pageSizeOptions]="[20, 40, 60]" showFirstLastButtons #eoPaging
        aria-label="Select page of periodic elements">
        </mat-paginator>

    </div>

</ng-container>

<ng-template #addQuestion>
    <app-flypanel-add-test-item  [mode1]="questionMode" [previousQuestion]="selectedRow"
      (closed)="flyInClose.close()"></app-flypanel-add-test-item>
  </ng-template>



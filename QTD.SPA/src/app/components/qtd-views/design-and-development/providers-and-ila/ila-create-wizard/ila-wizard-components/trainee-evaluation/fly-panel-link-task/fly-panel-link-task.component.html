<ng-container *ngIf="isTaskCheck">
    <div class="bg-white-one shadow-md py-2 h-screen w-full overflow-x-hidden overflow-y-scroll">
        <div class="flex flex-row justify-between items-center px-12 mt-5">
            <p class="text-xl font-bold text-gray-900">Link {{("Task" | labelReplacement)| async}}s to Simulator Scenario</p>            
            <app-button type="button" ButtonType="icon" icon="close" (clicked)="flyPanelSrvc.close()"></app-button>
        </div>
        <div class=" flex flex-row px-12 justify-between mt-6 mb-6">
            <div class="flex flex-row border-b text-xs">
                <app-icon class="mt-2" icon="search" ></app-icon>
                <input class="mt--2 w-full" placeholder="Search by keyword"/>
            </div>
    
            <div>
                <app-button class="mr-2" type="button" color="secondary" size="sm" leftIcon="filter_alt" rightIcon="expand_more"
                text="Filter" [matMenuTriggerFor]="filterMenu">
                </app-button>
                <mat-menu #filterMenu="matMenu">
                    <label mat-menu-item>Category</label>
                    <label mat-menu-item>Sub-Category</label>
                    <label mat-menu-item>RRT Only</label>
                    <label mat-menu-item>Search by keyword</label>
                </mat-menu>
    
                <app-button (clicked)="linkTaskScenario()" type="button" color="primary" size="sm" text="Add to Scenario">
                </app-button>
              
            </div>
           
        </div>
        
        <ng-container class="mt-6">
            <span class="ml-12 text-gray-400">Showing: Active {{("Task" | labelReplacement)| async}} <app-icon icon="expand_more"></app-icon>            
            </span>
            <br/>
            <span class="ml-12 text-gray-400">Duty Areas
    
            </span>
    
            <ng-container *ngIf="dataSource.data.length > 0">
                <div class="flex flex-col px-12">
                  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="qtd-tree">
                    <!-- This is the tree node template for leaf nodes -->
                    <!-- There is inline padding applied to this node using styles.
                              This padding value depends on the mat-icon-button width. -->
                    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
                     <!--  <mat-checkbox formControlName="taskCheck" (change)="onTaskChange($event,node)"
                        *ngIf="node.checkbox === undefined || !node.checkbox">
                        {{node.description}}</mat-checkbox> -->
                        <mat-checkbox (change)="onTaskChange($event,node)"
                        *ngIf="node.checkbox === undefined || !node.checkbox">
                        {{node.description}}</mat-checkbox>
                      <span *ngIf="node.checkbox && filtered(node)">{{node.description}}</span>
                    </mat-tree-node>
                    <!-- This is the tree node template for expandable nodes -->
                    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                      <div class="mat-tree-node">
                        <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.description">
                          <app-icon [icon]="treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'">
                          </app-icon>
                        </button>
      
                        {{node.description}}
                      </div>
                      <!-- There is inline padding applied to this div using styles.
                                    This padding value depends on the mat-icon-button width.  -->
                      <div [class.qtd-tree-invisible]="!treeControl.isExpanded(node)" role="group">
                        <ng-container matTreeNodeOutlet></ng-container>
                      </div>
                    </mat-nested-tree-node>
                  </mat-tree>
      
                </div>
              </ng-container>
        </ng-container>
    
    </div>
</ng-container>

<ng-container *ngIf="!isTaskCheck">
    <div class="bg-white-one shadow-md py-2 h-screen w-full overflow-x-hidden overflow-y-scroll">
        <div class="flex flex-row justify-between items-center px-12 mt-5">
            <p class="text-xl font-bold text-gray-900">Add Scenario</p>            
            <app-button type="button" ButtonType="icon" icon="close" (clicked)="flyPanelSrvc.close()"></app-button>
        </div>

        <div class=" flex flex-row px-12 justify-between mt-6 mb-6">
            <p class="text-gray-400 mt-4">{{EOCheckListSelection.selected.length}} {{("Enabling Objective" | labelReplacement)| async}}</p>   

            <app-button (clicked)="linkEnablingObjectives()" type="button" color="primary" size="sm" text="Add to Scenario">
            </app-button>
        </div>
        
            <ng-container *ngIf="enablingObjectiveDataSource.data.length > 0">
                <div class="flex flex-col px-12">
                  <mat-tree [dataSource]="enablingObjectiveDataSource" [treeControl]="EOTreeControl" class="qtd-tree">
                    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
                      <mat-checkbox (change)="onEOChange($event,node)" *ngIf="node.checkbox === undefined || !node.checkbox">
                        {{node.description}}</mat-checkbox>
                      <span *ngIf="node.checkbox">{{node.description}}</span>
                    </mat-tree-node>
                    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                      <div class="mat-tree-node">
                        <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.description">
                          <app-icon [icon]="EOTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'">
                          </app-icon>
                        </button>
      
                        {{node.description}}
                      </div>
                      <div [class.qtd-tree-invisible]="!EOTreeControl.isExpanded(node)" role="group">
                        <ng-container matTreeNodeOutlet></ng-container>
                      </div>
                    </mat-nested-tree-node>
                  </mat-tree>
      
                </div>
              </ng-container>
    </div>
</ng-container>


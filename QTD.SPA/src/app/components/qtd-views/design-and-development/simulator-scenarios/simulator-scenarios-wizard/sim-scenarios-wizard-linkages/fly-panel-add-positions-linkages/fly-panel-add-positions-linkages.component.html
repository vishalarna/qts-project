<div class="flex flex-col" class="px-12 py-12">
    <ng-container>
        <div class="flex flex-row justify-between">
            <h2>Link {{("Position" | labelReplacement)| async}}s to {{("Task" | labelReplacement)| async}}</h2>
            <app-button ButtonType="icon" icon="close" (clicked)="closed.emit('fp-task-pos-link-closed')"></app-button>
        </div>
        <div class="flex flex-row items-center border-b-0.8 border-gray-one mt-3 mb-15">
            <div class="flex flex-grow">
                <app-icon icon="search"></app-icon>
                <input class="text-sm flex-grow ml-10px focus:outline-none" placeholder="Search" type="text"
                    (input)="searchPosition($event)" [value]="inputValue">
                <app-icon icon="close" class="cursor-pointer" *ngIf="inputValue" (click)="clearSearchString()"></app-icon>
            </div>
        </div>

        <div class="flex flex-row mt-3 items-center text-gray-four justify-between text-xs btn-group">

            <div>
                <span> Showing:
                    <label mat-button class="mb-0">
                        <p class="font-bold">
                            Active
                        </p>
                    </label>
                </span>
            </div>
        </div>

        <div class="flex flex-col flex-wrap bg-gray-one mb-3 mt-3  px-3 py-3 rounded"
            *ngIf="positionsToLink.positions.length > 0">
            <div class="flex flex-row w-full justify-between mb-3">
                <p class="text-xs text-gray-four pt-2">{{positionsToLink.positions.length}} {{("Position" |
                    labelReplacement)| async}}s
                    selected</p>
                <app-button class="mb-2" type="button" color="secondary" size="sm" (clicked)="linkPosToScenarios()"
                    text="Link {{ 'Position' | labelReplacement | async }}s">
                </app-button>
            </div>
        </div>

        <app-spinner *ngIf="positions === undefined"></app-spinner>
        <ng-container *ngIf="positions && positions.length < 1">
            <div>No Data Found</div>
        </ng-container>
        <ng-container *ngIf="positions && positions.length > 0">
            <div class="flex flex-col ">
                <div class="flex flex-row mb-3" *ngFor="let p of positionsList">
                    <mat-checkbox *ngIf="!linkedPositionIds.includes(p.id)"
                        (change)="selectedPositions($event.checked, p)">
                        {{p.positionTitle}}
                    </mat-checkbox>
                    <ng-container *ngIf="linkedPositionIds.includes(p.id)">
                        <app-icon class="mr-1" style="color: rgb(92, 155, 49);" icon="link"></app-icon>
                        <p>{{p.positionTitle}}</p>
                    </ng-container>
                </div>
            </div>
        </ng-container>
    </ng-container>

</div>
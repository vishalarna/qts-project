<div class="d-flex justify-content-between">
    <div class="w-70">
        <form [formGroup]="specificationsForm">
         <section class="bg-white section p-4 mt-4">
                <div class="flex flex-row justify-between w-full space-x-4 text-sm mb-3">
                    <div>
                        <p class="font-bold text-lg">Scenario Specifications</p>
                    </div>
                </div>
                <div>
                    <div class="mb-4">
                        <app-label for="'networkConfiguration'" text="Network Configuration"></app-label>                        
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="networkConfiguration" (change)="onNetworkConfigurationInput()"></ckeditor>
                    </div>
                    <div class="mb-4">
                        <app-label for="'loadingConditions'" text="Loading Conditions"></app-label>                        
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="loadingConditions" (change)="onLoadingConditionsInput()"></ckeditor>
                    </div>
                    <div class="mb-4">
                        <app-label for="'generations'" text="Generation"></app-label>                        
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="generations" (change)="onGenerationInput()"></ckeditor>
                    </div>
                    <div class="mb-4">
                        <app-label for="'interchange'" text="Interchange"></app-label>                        
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="interchange" (change)="onInterchangeInput()"></ckeditor>
                    </div>
                    <div class="mb-4">
                        <app-label for="'otherBaseCase'" text="Other Base Case"></app-label>                        
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="otherBaseCase" (change)="onOtherBaseCaseInput()"></ckeditor>
                    </div>
                    <div class="mb-4">
                        <app-label for="'validityChecks'" text="Validity Checks"></app-label>
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="validityChecks" (change)="onValidityChecksInput()"></ckeditor>
                    </div>
                    <div class="mb-4">
                        <app-label for="'rolePlays'" text="Role Plays"></app-label>
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="rolePlays" (change)="onRolePlaysInput()"></ckeditor>
                    </div>
                    <div>
                        <app-label for="'documentation'" text="Documentation"></app-label>
                        <ckeditor [editor]="editor" [disabled]="mode === 'view'" formControlName="documentation" (change)="onDocumentationInput()"></ckeditor>
                    </div>
                </div>
            </section>
        </form>
    </div>
    <div class="w-30">
        <section class="bg-white section p-4 mt-4">
            <div class="justify-between w-full space-x-4 text-sm mb-3">
                <div class="ml-2">
                    <p class="font-bold text-lg">Linked Objectives</p>
                </div>
                <ng-container>
                    <div class="table-list">
                        <ul>
                            <li *ngFor = "let obj of taskEoObjectivesData" class="flex flex-row">
                                <div class="m-2">
                                    <span>{{obj?.number}}</span>
                                </div> 
                                <div class="m-2">
                                    <span>{{(obj?.description | dynamicLabelReplacement)|async}}</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </ng-container>
            </div>
        </section>
        <section class="bg-white section p-4 mt-4">
            <div class="justify-between w-full space-x-4 text-sm mb-3">
                <div class="flex flex-row justify-between w-full ml-2">
                    <p class="font-bold text-lg">Linked Positions</p>
                    <div class="add-position-button" (click)="openFlypanel(linkagesPositions)"  *ngIf="mode !== 'view'">
                        <img src="./assets/icons/icon-link-item.svg" alt="icon_link_svg" style="margin-right: 10px" />
                        <span style="cursor: pointer">Link {{("Position" | labelReplacement)| async}}s</span>
                    </div>
                </div>
                <ng-container>
                    <div class="table-list">
                        <ul>
                            <li *ngFor = "let pos of positionsData" class="flex flex-row">
                                <div class="m-2 pl-2">
                                    <span>{{pos?.positionTitle}}</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </ng-container>
            </div>
        </section>
    </div>
</div>

<ng-template #linkagesPositions>
    <app-fly-panel-add-positions-linkages (closed)="flyPanelService.close()"
        (newPositionLinked)="handleNewPositionsLinked($event)" [inputSimScenariosId]="inputSimScenariosId"
        [linkedPositionIds]="linkedPositionIds">
    </app-fly-panel-add-positions-linkages>
</ng-template>